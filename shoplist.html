<!doctype html>
<html lang="en">

<!-- source http://www.scnoob.com More templates http://www.scnoob.com/moban.html -->
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="description" content="Cosmo - Responsive Dashboard Admin Template">
    <meta name="author" content="Akshay Kumar">

    <link rel="icon" href="assets/images/favicon.ico">

    <!-- Messgaes CSS -->
    <link href="assets/css/pages/messages.css" rel="stylesheet">

    <!-- Base CSS -->
    <link rel="stylesheet" href="assets/css/basestyle/style.css">

    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Date Range Picker -->
    <link rel="stylesheet" type="text/css" href="assets/css/daterangepicker/daterangepicker.css"/>

    <!-- Full Calendar Icons -->
    <link href="assets/css/fullcalendar/fullcalendar.css" rel="stylesheet">


    <title>o2o商铺管理后台 - 商铺列表</title>

</head>
<body>

<!-- Pre Loader-->
<div class="loader-wrapper">
    <div class="spinner">
        <svg viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
            <circle class="length" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="28"></circle>
        </svg>
        <svg viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
            <circle fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="28"></circle>
        </svg>
        <svg viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
            <circle fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="28"></circle>
        </svg>
        <svg viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
            <circle fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="28"></circle>
        </svg>
    </div>
</div>
<!-- Pre Loader-->


<section class="wrapper">

    <!-- SIDEBAR -->
    <aside class="sidebar">
        <nav class="navbar navbar-dark bg-primary">
            <a class="navbar-brand m-0 py-2 brand-title" href="#">o2o商铺管理后台</a>
            <span></span>
            <a class="navbar-brand py-2 material-icons toggle-sidebar" href="#">menu</a>
        </nav>

        <nav class="navigation">

            <ul>
                <li class="open active">
                    <a href="#" title="Layout Options">
                        <span class="nav-icon material-icons">dashboard
                    </span> 商铺<span class="toogle-sub-nav material-icons">keyboard_arrow_right</span>
                    </a>
                    <ul class="sub-nav">
                        <li class="active"><a href="shoplist.html" title="Top Navigation">商铺列表</a></li>
                        <li><a href="shopregister.html" title="Top Navigation">商铺注册</a></li>
                        <li><a href="fixed-layout.html" title="Fixed Layout">商铺编辑</a></li>
                        <li><a href="fixed-layout.html" title="Fixed Layout">商铺注销</a></li>
                    </ul>
                </li>
            </ul>

        </nav>

    </aside>

    <!--RIGHT CONTENT AREA-->
    <div class="content-area">

        <header class="header sticky-top">
            <nav class="navbar navbar-light bg-white px-sm-4 ">
                <a class="navbar-brand py-2 d-md-none  m-0 material-icons toggle-sidebar" href="#">menu</a>
                <ul class="navbar-nav flex-row ml-auto">
                    <li class="nav-item" data-toggle="tooltip" data-placement="bottom" title="Switch Application">
                        <a data-toggle="modal" href="#" data-target="#switchApp" class="nav-link"><span
                                class="material-icons align-middle">apps</span></a>
                    </li>
                    <li class="nav-item notification">
                        <a href="#" id="notificationDropdown" data-toggle="dropdown" class="nav-link"><span
                                class="material-icons align-middle">notifications_none</span></a>
                        <div class="dropdown-menu p-0 dropdown-lg notificationDropdown dropdown-menu-right"
                             aria-labelledby="notificationDropdown">

                            <a class="dropdown-item py-3 border-bottom" href="#">
                                <p class="text-muted mb-1"><small>John Doe Application</small></p>
                                <div class="progress" style="height:8px;">
                                    <div class="progress-bar bg-success" role="progressbar" style="width: 25%"
                                         aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </a>
                            <a class="dropdown-item py-3 border-bottom" href="#">
                                <p class="text-muted mb-1"><small>Akshay Application</small></p>
                                <div class="progress" style="height:8px;">
                                    <div class="progress-bar bg-warning" role="progressbar" style="width: 75%"
                                         aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </a>
                            <a class="dropdown-item whitespace-normal py-3 border-bottom" href="#">
                                <div class="media">
                                    <img class="mr-3 rounded" width="26" src="assets/images/user.png">
                                    <div class="media-body">
                                        <h6 class="m-0 weight-400">Media heading</h6>
                                        <small class="text-muted">Cras sit amet nibh libero, in gravida nulla. Nulla vel
                                            metus scelerisque ante.</small>
                                    </div>
                                </div>
                            </a>

                            <a class="dropdown-item py-3 border-bottom" href="#">
                                <p class="text-muted mb-1"><small>Uploading Documents</small></p>
                                <div class="progress" style="height:8px;">
                                    <div class="progress-bar-animated bg-primary progress-bar-striped"
                                         role="progressbar" style="width: 40%" aria-valuenow="10" aria-valuemin="0"
                                         aria-valuemax="100"></div>
                                </div>
                            </a>
                            <a class="dropdown-item py-3 border-bottom" href="#">
                                <span class="badge badge-pill badge-danger mr-2">Warning</span> <small
                                    class="text-muted">Somthing went wrong !</small>
                            </a>
                            <button type="button" class="btn btn-light btn-sm btn-block">View All</button>
                        </div>
                    </li>
                    <li class="nav-item ml-sm-3 user-logedin dropdown">
                        <a href="#" id="userLogedinDropdown" data-toggle="dropdown"
                           class="nav-link weight-400 dropdown-toggle"><img src="assets/images/user.png"
                                                                            class="mr-2 rounded" width="28">Akshay kumar</a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userLogedinDropdown">
                            <a class="dropdown-item" href="profile.html">My Account</a>
                            <a class="dropdown-item" href="profile.html">Account Settings</a>
                            <a class="dropdown-item" target="_blank"
                               href="https://themeforest.net/item/brio-web-app-bootstrap-admin-template-dashboard/9529051/support">Help
                                & Support</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="sign-in.html">Log Out</a>
                        </div>
                    </li>

                </ul>
            </nav>
        </header>


        <div class="content-wrapper">

            <div class="row page-tilte align-items-center">
                <div class="col-md-auto">
                    <a href="#" class="mt-3 d-md-none float-right toggle-controls"><span class="material-icons">keyboard_arrow_down</span></a>
                    <h1 class="weight-300 h3 title">商铺列表</h1>
                    <p class="text-muted m-0 desc">全部的商铺列表</p>
                </div>
                <div class="col controls-wrapper mt-3 mt-md-0 d-none d-md-block ">
                    <div class="controls d-flex justify-content-center justify-content-md-end">
                        <input type="text" class="form-control date-rage width-260">
                        <button type="button" class="btn btn-danger">搜索</button>
                        <span class="dropdown">
                      <button type="button" id="downloadGrid" data-toggle="dropdown"
                              class="btn btn-secondary py-1 px-2"><span class="material-icons align-text-bottom">save_alt</span></button>
                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="downloadGrid">
                        <a class="dropdown-item" href="#">Save as PDF</a>
                        <a class="dropdown-item" href="#">Save as Image</a>
                        <a class="dropdown-item" href="#">Save as Word</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Export Excel</a>
                      </div>
                    </span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-12 mb-4">
                    <div class="card h-100">
                        <div class="card-body  table-responsive p-0">
                            <table class="table  m-0">
                                <thead>
                                <tr>
                                    <th scope="col" width="1" class="border-top-0">#</th>
                                    <th scope="col" class="border-top-0">商店名称</th>
                                    <th scope="col" class="border-top-0">状态</th>
                                    <th scope="col" class="border-top-0">操作</th>
                                </tr>
                                </thead>
                                <!-- 商铺数据列表 -->
                                <tbody class="shop-table-body">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</section>

<div class="modal fade" id="switchApp" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header px-4">
                <h5 class="modal-title" id="exampleModalLabel">Select Application</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="material-icons ">close</span>
                </button>
            </div>
            <div class="modal-body p-4">

                <div class="row align-items-stretch app-switcher">
                    <div class="col-lg-3 col-6 mb-4">
                        <a href="index.html" class="text-dark">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <span class="material-icons md-48 " style="color:#21C3E0;">bubble_chart</span>
                                    <p class="weight-400 m-0">Dashboard</p>
                                    <small class="weight-300 text-muted">This is some text within a card body.</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-6 mb-4">
                        <a href="ecommerce-dashboard.html" class="text-dark">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <span class="material-icons md-48 text-primary">security</span>
                                    <p class="weight-400 m-0">Ecommerce</p>
                                    <small class="weight-300 text-muted">This is some text within a card body.</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-6 mb-4">
                        <a href="mailbox.html" class="text-dark">
                            <div class="card h-100 active-app">
                                <div class="card-body text-center">
                                    <span class="material-icons md-48 text-danger">blur_on</span>
                                    <p class="weight-400 m-0">Mail Box</p>
                                    <small class="weight-300 text-muted">This is some text within a card body.</small>
                                    <span class="material-icons app-selected md-16">check</span>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-6 mb-4">
                        <a href="blogger-feed-list.html" class="text-dark">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <span class="material-icons md-48 text-warning">camera</span>
                                    <p class="weight-400 m-0">Blogger</p>
                                    <small class="weight-300 text-muted">This is some text within a card body.</small>
                                </div>
                            </div>
                        </a>
                    </div>


                    <div class="col-lg-3 col-6 mb-lg-0 mb-4">
                        <a href="task-manager.html" class="text-dark">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <span class="material-icons md-48" style="color:#f98e69;">leak_add</span>
                                    <p class="weight-400 m-0">Task Manager</p>
                                    <small class="weight-300 text-muted">This is some text within a card body.</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-6 mb-lg-0 mb-4">
                        <a href="notes.html" class="text-dark">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <span class="material-icons md-48 text-success">color_lens</span>
                                    <p class="weight-400 m-0">Notes</p>
                                    <small class="weight-300 text-muted">This is some text within a card body.</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-6 ">
                        <a href="file-uploder.html" class="text-dark">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <span class="material-icons md-48 " style="color:#9b84fb">category</span>
                                    <p class="weight-400 m-0">File Manager</p>
                                    <small class="weight-300 text-muted">This is some text within a card body.</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-6 ">
                        <a href="photos-videos.html" class="text-dark">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <span class="material-icons md-48 text-muted">layers</span>
                                    <p class="weight-400 m-0">Videos & Photos</p>
                                    <small class="weight-300 text-muted">This is some text within a card body.</small>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>

            </div>
            <div class="modal-footer px-4">
                <div class="custom-control custom-checkbox mr-auto">
                    <input type="checkbox" class="custom-control-input" id="customCheck1">
                    <label class="custom-control-label" for="customCheck1">Default open this application</label>
                </div>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Switch Application</button>
            </div>
        </div>
    </div>
</div>

<script src="assets/js/chartjs/Chart.js"></script>
<script src="assets/js/chartjs/utils.js"></script>

<script src="assets/js/lib/moment.min.js"></script>
<script src="assets/js/lib/jquery.min.js"></script>
<script src="assets/js/lib/popper.min.js"></script>
<script src="assets/js/bootstrap/bootstrap.min.js"></script>
<script src="assets/js/chosen-js/chosen.jquery.js"></script>
<script src="assets/js/fullcalendar/fullcalendar.js"></script>

<script src="assets/js/daterangepicker/daterangepicker.min.js"></script>
<script src="assets/js/custom.js"></script>

<script>

    $(function () {

        getList();

        function getList(e) {
            $.ajax({
                url: "http://localhost:8080/shopping/shopadmin/getshoplist",
                type: "get",
                dataType: "json",
                success: function (data) {
                    console.info(data);
                    if (data.success) {
                        console.info(data);
                        handleList(data.shopList);
                        handleUser(data.user);
                    }
                }
            });
        }

        function handleUser(data) {
            $("#user-name").text(data.name);
        }

        function handleList(data) {
            var html = "";

            data.map(function (value, index) {
                var number = index + 1;
                html += '<tr>'
                    + '<th >' + number + '</th>'
                    + '<td class="align-middle"><div><a href="#" class="weight-700">' + value.shopName + '</a></div></td>'
                    + '<td class="align-middle"><div class="weight-400">' + shopStatus(value.enableStatus) + '</div></td>'
                    + '<td class="data-label Actions" class="text-md-center dropdown dropleft"">' + goShop(value.enableStatus, value.shopId) + '</td>'
                    + '</tr>';
            });

            $('.shop-table-body').html(html);

        }

        function shopStatus(status) {
            if (status === 0) {
                return '审核中';
            } else if (status === -1) {
                return '商铺非法';
            } else {
                return '审核通过';
            }
        }


        function goShop(status, id) {
            if (status === 1) {
                return '<a href="#" class="text-muted" id="actionDropdown" data-toggle="dropdown" aria-expanded="false">' +
                    '<span class="material-icons md-20 align-middle">more_vert</span></a>' +
                    '<div class="dropdown-menu dropdown-menu-right" aria-labelledby="actionDropdown" x-placement="left-start" style="position: absolute; transform: translate3d(24px, 13px, 0px); top: 0px; left: 0px; will-change: transform;">' +
                    '    <a class="dropdown-item" href="#">商铺信息</a>' +
                    '    <a class="dropdown-item" href="#">商品管理</a>' +
                    '    <a class="dropdown-item" href="#">商品类别管理</a>' +
                    '</div>';
            } else {
                return "";
            }
        }
    });


</script>


</body>

</html>